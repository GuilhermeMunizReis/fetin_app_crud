import { Column, ColumnBaseConfig } from 'drizzle-orm';
import { ColumnBuilder, ColumnBuilderBaseConfig, ColumnBuilderWithConfig, UpdateCBConfig } from 'drizzle-orm/column-builder';
import { SQL } from 'drizzle-orm/sql';
import { Update } from 'drizzle-orm/utils';
import { Simplify } from 'drizzle-orm/utils';
import { UpdateDeleteAction } from '../foreign-keys';
import { AnyMySqlTable } from '../table';
export interface ReferenceConfig {
    ref: () => AnyMySqlColumn;
    actions: {
        onUpdate?: UpdateDeleteAction;
        onDelete?: UpdateDeleteAction;
    };
}
export declare abstract class MySqlColumnBuilder<T extends Partial<ColumnBuilderBaseConfig>, TConfig extends Record<string, unknown> = {}> extends ColumnBuilder<T, TConfig> {
    private foreignKeyConfigs;
    constructor(name: string);
    notNull(): MySqlColumnBuilder<UpdateCBConfig<T, {
        notNull: true;
    }>>;
    default(value: T['data'] | SQL): MySqlColumnBuilder<UpdateCBConfig<T, {
        hasDefault: true;
    }>>;
    primaryKey(): MySqlColumnBuilder<UpdateCBConfig<T, {
        notNull: true;
    }>>;
    references(ref: ReferenceConfig['ref'], actions?: ReferenceConfig['actions']): this;
}
export declare type AnyMySqlColumnBuilder<TPartial extends Partial<ColumnBuilderBaseConfig> = {}> = MySqlColumnBuilder<Update<ColumnBuilderBaseConfig, TPartial>>;
export declare abstract class MySqlColumn<T extends Partial<ColumnBaseConfig>> extends Column<T> {
    readonly table: AnyMySqlTable<{
        name: T['tableName'];
    }>;
    protected $mySqlBrand: 'MySqlColumn';
    protected abstract $mySqlColumnBrand: string;
    constructor(table: AnyMySqlTable<{
        name: T['tableName'];
    }>, config: MySqlColumnBuilder<Omit<T, 'tableName'>>['config']);
    unsafe(): AnyMySqlColumn;
}
export declare type AnyMySqlColumn<TPartial extends Partial<ColumnBaseConfig> = {}> = MySqlColumn<Update<ColumnBaseConfig, TPartial>>;
export declare type BuildColumn<TTableName extends string, TBuilder extends AnyMySqlColumnBuilder> = TBuilder extends ColumnBuilderWithConfig<infer T> ? MySqlColumn<Simplify<T & {
    tableName: TTableName;
}>> : never;
export declare type BuildColumns<TTableName extends string, TConfigMap extends Record<string, AnyMySqlColumnBuilder>> = Simplify<{
    [Key in keyof TConfigMap]: BuildColumn<TTableName, TConfigMap[Key]>;
}>;
export declare type ChangeColumnTableName<TColumn extends AnyMySqlColumn, TAlias extends string> = TColumn extends MySqlColumn<infer T> ? MySqlColumn<Simplify<Omit<T, 'tableName'> & {
    tableName: TAlias;
}>> : never;
export declare abstract class MySqlColumnBuilderWithAutoIncrement<T extends Partial<ColumnBuilderBaseConfig>, TConfig extends Record<string, unknown> = {}> extends MySqlColumnBuilder<T, TConfig & {
    autoIncrement: boolean;
}> {
    constructor(name: string);
    autoincrement(): MySqlColumnBuilderWithAutoIncrement<T>;
}
export declare abstract class MySqlColumnWithAutoIncrement<T extends Partial<ColumnBaseConfig & {
    autoIncrement: boolean;
}>> extends MySqlColumn<T> {
    readonly table: AnyMySqlTable<{
        name: T['tableName'];
    }>;
    protected $autoIncrement: T['autoIncrement'];
    readonly autoIncrement: boolean;
    constructor(table: AnyMySqlTable<{
        name: T['tableName'];
    }>, config: MySqlColumnBuilderWithAutoIncrement<Omit<T, 'tableName'>>['config']);
}
//# sourceMappingURL=common.d.ts.map