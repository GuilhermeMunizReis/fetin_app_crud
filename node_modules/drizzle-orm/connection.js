"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NoopLogger = exports.DefaultLogger = exports.ConsoleLogWriter = void 0;
class ConsoleLogWriter {
    write(message) {
        console.log(message);
    }
}
exports.ConsoleLogWriter = ConsoleLogWriter;
class DefaultLogger {
    constructor(config = { writer: new ConsoleLogWriter() }) {
        this.writer = config.writer;
    }
    logQuery(query, params) {
        const stringifiedParams = params.map((p) => {
            try {
                return JSON.stringify(p);
            }
            catch (e) {
                return String(p);
            }
        });
        const paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(', ')}]` : '';
        this.writer.write(`Query: ${query}${paramsStr}`);
    }
}
exports.DefaultLogger = DefaultLogger;
class NoopLogger {
    logQuery() { }
}
exports.NoopLogger = NoopLogger;
//# sourceMappingURL=connection.js.map